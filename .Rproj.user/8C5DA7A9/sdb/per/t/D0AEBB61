{
    "collab_server" : "",
    "contents" : "rm(list = ls())\nlibrary('HnndPR')\n# datasets ----------------------------------------------------------------\n# data_names_ori = 'cytof_h2'\ndata_names_ori = 'cytof_h1'\n\n\nresult_all = data.frame()\nfor (data_name in data_names_ori){\n  #  load data ----\n  TestData=load_data(data_name)\n  N = nrow(TestData$x)\n  K_empircal = ceiling(log2(N))\n\n  if (any(data_name==c('bipolar','single.cell.mrna.pollen','PalmData25_uni'))) {\n    disName = 'cosine'\n    LogPlot = 'x'\n  } else {\n    disName = 'euclidean'\n    LogPlot = ''\n  }\n\n  Totoltime<-system.time(\n    result <- HNND(\n      x = TestData$x,\n      K = K_empircal,\n      h = K_empircal,\n      disName = disName,\n      LogPlot = LogPlot)\n  )[3]\n\n  # evaluation --------------------------------------------------------------\n  CScores = Evaluate_clustering_result(data_name,result$Label,TestData$annotation_data,EvaIndex = c('NMI','ARI'))\n\n  result_all = rbind(result_all,data.frame(\n    DataName = data_name,\n    N = N,\n    Dim = ncol(TestData$x),\n    NMI = round(CScores$NMI,digits = 3),\n    ARI = round(CScores$ARI,digits = 3),\n    Totoltime = round(Totoltime-result$time_DG,digits = 3),\n    Cnum = length(unique(result$Label))))\n}\nprint(result_all)\n",
    "created" : 1610960562230.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2768631222",
    "id" : "D0AEBB61",
    "lastKnownWriteTime" : 1610968695,
    "last_content_update" : 1610968695113,
    "path" : "F:/Download_code/TPE/tpe/R/HnndPRdata/Clustering-by-HNND-PR/test/test_HNND_pattern_recognition.R",
    "project_path" : "test/test_HNND_pattern_recognition.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}